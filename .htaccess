# ----------------------------------------------------------------------
# .htaccess HIJO: REGLAS DE FUNCIONAMIENTO (C:\xampp\htdocs\Stock-Manager\.htaccess)
# ----------------------------------------------------------------------

# Habilitar el motor de reescritura
RewriteEngine On

# Base de la URL para subdirectorio (CRÍTICO: NO MOVER)
RewriteBase /Stock-Manager/

# =======================================================
# SECCIÓN DE ENRUTAMIENTO (Routing)
# =======================================================

# 1. Regla explícita para la página de inicio
RewriteRule ^$ Frontend/Public/index.php [L]

# 2. Evitar redirigir cualquier cosa dentro del backend
RewriteCond %{REQUEST_URI} !^/Stock-Manager/backend/.*$

# 3. Redirigir todas las demás peticiones al frontend
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ Frontend/Public/$1 [L]